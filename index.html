
<!DOCTYPE html>
<html>
<head>
    <title>The Breeding Ground Map</title>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
    <style>
        body { margin: 0; padding: 0; font-family: sans-serif; }
        #map { height: 100vh; width: 100%; }
        #controls {
            position: absolute; top: 10px; right: 10px; z-index: 1000;
            background: white; padding: 15px; border-radius: 8px;
            box-shadow: 0 0 15px rgba(0,0,0,0.2); width: 250px;
        }
        h3 { margin: 0 0 10px 0; font-size: 16px; border-bottom: 2px solid #333; padding-bottom: 5px; }
        .filter-group { margin-bottom: 10px; }
        label { display: block; font-size: 12px; font-weight: bold; margin-bottom: 3px; }
        select, input { width: 100%; }
        .legend-item { font-size: 11px; margin-bottom: 2px; }
        .swatch { display: inline-block; width: 10px; height: 10px; margin-right: 5px; border-radius: 50%; }
    </style>
</head>
<body>

<div id="controls">
    <h3>Data Filters</h3>
    
    <div class="filter-group">
        <label>Strategy Category</label>
        <select id="catFilter" onchange="updateMap()">
            <option value="All">All Strategies</option>
            <option value="Snow White (Secular)">Snow White (Secular)</option>
            <option value="Mormon Control">Mormon Control (Provo)</option>
            <option value="Walkable City">Walkable Cities</option>
            <option value="College Town">College Towns</option>
            <option value="Standard Metro">Standard Metro</option>
        </select>
    </div>

    <div class="filter-group">
        <label>Minimum Population: <span id="popVal">0</span></label>
        <input type="range" id="popSlider" min="0" max="1000000" step="50000" value="0" oninput="updateMap()">
    </div>

    <div class="filter-group">
        <label>Min White Density (%): <span id="whiteVal">0</span></label>
        <input type="range" id="whiteSlider" min="0" max="7" step="0.5" value="0" oninput="updateMap()">
    </div>

    <hr>
    <div id="legend">
        <div class="legend-item"><span class="swatch" style="background:#ff3333"></span>Mormon Control</div>
        <div class="legend-item"><span class="swatch" style="background:#3388ff"></span>Snow White (Secular)</div>
        <div class="legend-item"><span class="swatch" style="background:#33ff33"></span>Walkable</div>
        <div class="legend-item"><span class="swatch" style="background:#777777"></span>Standard Metro</div>
    </div>
</div>

<div id="map"></div>

<script>
    // Embedded Data
    const cityData = [{"name": "College Station-Bryan, TX Metro Area", "short_name": "College Station, TX", "lat": 30.627977, "lon": -96.3344068, "pop": 273280, "ratio": 0.663, "fertility": 37.5, "white_density": 7.06, "walkability": 1.64, "strategy": "Snow White (Secular)", "rent": 1146}, {"name": "Provo-Orem-Lehi, UT Metro Area", "short_name": "Provo, UT", "lat": 40.2338438, "lon": -111.6585337, "pop": 695895, "ratio": 0.574, "fertility": 73.1, "white_density": 6.65, "walkability": 2.12, "strategy": "Mormon Control", "rent": 1434}, {"name": "Gainesville, FL Metro Area", "short_name": "Gainesville, FL", "lat": 29.6516344, "lon": -82.3248262, "pop": 344521, "ratio": 0.647, "fertility": 27.2, "white_density": 5.63, "walkability": 3.13, "strategy": "Snow White (Secular)", "rent": 1219}, {"name": "Ann Arbor, MI Metro Area", "short_name": "Ann Arbor, MI", "lat": 42.2808256, "lon": -83.7430378, "pop": 368394, "ratio": 0.581, "fertility": 36.0, "white_density": 5.6, "walkability": 3.88, "strategy": "Snow White (Secular)", "rent": 1400}, {"name": "Lincoln, NE Metro Area", "short_name": "Lincoln, NE", "lat": 40.8257625, "lon": -96.6851982, "pop": 341309, "ratio": 0.558, "fertility": 42.6, "white_density": 5.58, "walkability": 0.98, "strategy": "Snow White (Secular)", "rent": 1043}, {"name": "Fort Collins-Loveland, CO Metro Area", "short_name": "Fort Collins, CO", "lat": 40.5852602, "lon": -105.084423, "pop": 363561, "ratio": 0.538, "fertility": 47.3, "white_density": 5.46, "walkability": 1.11, "strategy": "Snow White (Secular)", "rent": 1677}, {"name": "Kalamazoo-Portage, MI Metro Area", "short_name": "Kalamazoo, MI", "lat": 42.2917069, "lon": -85.5872286, "pop": 261437, "ratio": 0.57, "fertility": 51.9, "white_density": 5.28, "walkability": 1.23, "strategy": "Snow White (Secular)", "rent": 1049}, {"name": "Boulder, CO Metro Area", "short_name": "Boulder, CO", "lat": 40.0149856, "lon": -105.2705456, "pop": 328317, "ratio": 0.527, "fertility": 33.1, "white_density": 5.28, "walkability": 3.34, "strategy": "Snow White (Secular)", "rent": 1893}, {"name": "Tuscaloosa, AL Metro Area", "short_name": "Tuscaloosa, AL", "lat": 33.2098407, "lon": -87.5691735, "pop": 275217, "ratio": 0.659, "fertility": 43.4, "white_density": 5.18, "walkability": 1.03, "strategy": "Snow White (Secular)", "rent": 966}, {"name": "Lansing-East Lansing, MI Metro Area", "short_name": "Lansing, MI", "lat": 42.732535, "lon": -84.55553470000001, "pop": 470434, "ratio": 0.564, "fertility": 39.5, "white_density": 4.88, "walkability": 1.92, "strategy": "Snow White (Secular)", "rent": 1054}, {"name": "Springfield, MO Metro Area", "short_name": "Springfield, MO", "lat": 37.20895720000001, "lon": -93.2922989, "pop": 481671, "ratio": 0.522, "fertility": 56.6, "white_density": 4.75, "walkability": 0.9, "strategy": "Snow White (Secular)", "rent": 927}, {"name": "Lynchburg, VA Metro Area", "short_name": "Lynchburg, VA", "lat": 37.4137536, "lon": -79.1422464, "pop": 262716, "ratio": 0.603, "fertility": 51.6, "white_density": 4.7, "walkability": 0.94, "strategy": "Snow White (Secular)", "rent": 967}, {"name": "Tallahassee, FL Metro Area", "short_name": "Tallahassee, FL", "lat": 30.4382559, "lon": -84.2807329, "pop": 388298, "ratio": 0.682, "fertility": 33.5, "white_density": 4.67, "walkability": 1.5, "strategy": "Snow White (Secular)", "rent": 1197}, {"name": "Madison, WI Metro Area", "short_name": "Madison, WI", "lat": 43.07305170000001, "lon": -89.4012302, "pop": 683967, "ratio": 0.498, "fertility": 43.0, "white_density": 4.57, "walkability": 2.88, "strategy": "Snow White (Secular)", "rent": 1300}, {"name": "Eugene-Springfield, OR Metro Area", "short_name": "Eugene, OR", "lat": 44.0520691, "lon": -123.08675359999998, "pop": 382628, "ratio": 0.528, "fertility": 41.0, "white_density": 4.4, "walkability": 2.15, "strategy": "Standard Metro", "rent": 1287}, {"name": "San Luis Obispo-Paso Robles, CA Metro Area", "short_name": "San Luis Obispo, CA", "lat": 35.2827524, "lon": -120.6596156, "pop": 281486, "ratio": 0.576, "fertility": 48.3, "white_density": 4.21, "walkability": 1.08, "strategy": "College Town", "rent": 1899}, {"name": "Lubbock, TX Metro Area", "short_name": "Lubbock, TX", "lat": 33.5778631, "lon": -101.8551665, "pop": 354782, "ratio": 0.585, "fertility": 42.9, "white_density": 4.07, "walkability": 0.84, "strategy": "Standard Metro", "rent": 1116}, {"name": "Knoxville, TN Metro Area", "short_name": "Knoxville, TN", "lat": 35.96063839999999, "lon": -83.9207392, "pop": 919553, "ratio": 0.465, "fertility": 45.7, "white_density": 3.82, "walkability": 0.47, "strategy": "Standard Metro", "rent": 1080}, {"name": "Erie, PA Metro Area", "short_name": "Erie, PA", "lat": 42.1292241, "lon": -80.085059, "pop": 269544, "ratio": 0.483, "fertility": 55.1, "white_density": 3.77, "walkability": 1.46, "strategy": "College Town", "rent": 876}, {"name": "Syracuse, NY Metro Area", "short_name": "Syracuse, NY", "lat": 43.0481221, "lon": -76.1474244, "pop": 657128, "ratio": 0.501, "fertility": 46.8, "white_density": 3.77, "walkability": 2.09, "strategy": "Standard Metro", "rent": 1036}, {"name": "Albany-Schenectady-Troy, NY Metro Area", "short_name": "Albany, NY", "lat": 42.65257929999999, "lon": -73.7562317, "pop": 902372, "ratio": 0.485, "fertility": 46.2, "white_density": 3.67, "walkability": 2.99, "strategy": "Standard Metro", "rent": 1230}, {"name": "Akron, OH Metro Area", "short_name": "Akron, OH", "lat": 41.081444700000006, "lon": -81.51900529999999, "pop": 699508, "ratio": 0.486, "fertility": 43.2, "white_density": 3.6, "walkability": 0.95, "strategy": "Standard Metro", "rent": 1005}, {"name": "Grand Rapids-Wyoming-Kentwood, MI Metro Area", "short_name": "Grand Rapids, MI", "lat": 42.9633599, "lon": -85.6680863, "pop": 1154320, "ratio": 0.456, "fertility": 49.5, "white_density": 3.59, "walkability": 1.25, "strategy": "Standard Metro", "rent": 1138}, {"name": "Toledo, OH Metro Area", "short_name": "Toledo, OH", "lat": 41.6639383, "lon": -83.555212, "pop": 602977, "ratio": 0.491, "fertility": 47.1, "white_density": 3.58, "walkability": 0.93, "strategy": "Standard Metro", "rent": 917}, {"name": "Waco, TX Metro Area", "short_name": "Waco, TX", "lat": 31.549333, "lon": -97.1466695, "pop": 299217, "ratio": 0.576, "fertility": 50.2, "white_density": 3.56, "walkability": 0.43, "strategy": "College Town", "rent": 1094}, {"name": "Evansville, IN Metro Area", "short_name": "Evansville, IN", "lat": 37.9715592, "lon": -87.5710898, "pop": 269721, "ratio": 0.454, "fertility": 41.8, "white_density": 3.51, "walkability": 0.88, "strategy": "College Town", "rent": 963}, {"name": "Wilmington, NC Metro Area", "short_name": "Wilmington, NC", "lat": 34.2257255, "lon": -77.9447102, "pop": 440578, "ratio": 0.531, "fertility": 42.3, "white_density": 3.43, "walkability": 0.56, "strategy": "Standard Metro", "rent": 1313}, {"name": "Cedar Rapids, IA Metro Area", "short_name": "Cedar Rapids, IA", "lat": 41.9778795, "lon": -91.6656232, "pop": 275960, "ratio": 0.446, "fertility": 49.0, "white_density": 3.41, "walkability": 0.69, "strategy": "College Town", "rent": 899}, {"name": "Ogden, UT Metro Area", "short_name": "Ogden, UT", "lat": 41.223, "lon": -111.9738304, "pop": 645510, "ratio": 0.421, "fertility": 60.2, "white_density": 3.33, "walkability": 1.51, "strategy": "Mormon Control", "rent": 1393}, {"name": "Greenville-Anderson-Greer, SC Metro Area", "short_name": "Greenville, SC", "lat": 34.8526176, "lon": -82.3940104, "pop": 945301, "ratio": 0.483, "fertility": 58.4, "white_density": 3.31, "walkability": 0.58, "strategy": "Standard Metro", "rent": 1100}, {"name": "Green Bay, WI Metro Area", "short_name": "Green Bay, WI", "lat": 44.519159, "lon": -88.019826, "pop": 329375, "ratio": 0.459, "fertility": 45.3, "white_density": 3.28, "walkability": 0.6, "strategy": "Standard Metro", "rent": 959}, {"name": "Canton-Massillon, OH Metro Area", "short_name": "Canton, OH", "lat": 40.7989473, "lon": -81.378447, "pop": 400495, "ratio": 0.445, "fertility": 51.8, "white_density": 3.24, "walkability": 1.15, "strategy": "Standard Metro", "rent": 873}, {"name": "Lancaster, PA Metro Area", "short_name": "Lancaster, PA", "lat": 40.0378755, "lon": -76.3055144, "pop": 555151, "ratio": 0.451, "fertility": 63.9, "white_density": 3.21, "walkability": 1.14, "strategy": "Standard Metro", "rent": 1289}, {"name": "Portland-South Portland, ME Metro Area", "short_name": "Portland, ME", "lat": 43.661471, "lon": -70.2553259, "pop": 557764, "ratio": 0.415, "fertility": 43.4, "white_density": 3.2, "walkability": 1.0, "strategy": "Standard Metro", "rent": 1384}, {"name": "Rochester, NY Metro Area", "short_name": "Rochester, NY", "lat": 43.16103, "lon": -77.61092190000001, "pop": 1058875, "ratio": 0.469, "fertility": 46.8, "white_density": 3.19, "walkability": 1.67, "strategy": "Standard Metro", "rent": 1102}, {"name": "Spokane-Spokane Valley, WA Metro Area", "short_name": "Spokane, WA", "lat": 47.6587802, "lon": -117.4260466, "pop": 591793, "ratio": 0.396, "fertility": 57.6, "white_density": 3.14, "walkability": 2.09, "strategy": "Standard Metro", "rent": 1187}, {"name": "Pittsburgh, PA Metro Area", "short_name": "Pittsburgh, PA", "lat": 40.4406248, "lon": -79.9958864, "pop": 2443921, "ratio": 0.426, "fertility": 47.6, "white_density": 3.13, "walkability": 3.83, "strategy": "Standard Metro", "rent": 1011}, {"name": "Manchester-Nashua, NH Metro Area", "short_name": "Manchester, NH", "lat": 42.995639700000005, "lon": -71.4547891, "pop": 424732, "ratio": 0.406, "fertility": 42.4, "white_density": 3.12, "walkability": 0.81, "strategy": "Standard Metro", "rent": 1532}, {"name": "Dayton-Kettering-Beavercreek, OH Metro Area", "short_name": "Dayton, OH", "lat": 39.7589478, "lon": -84.1916069, "pop": 813608, "ratio": 0.442, "fertility": 56.9, "white_density": 3.12, "walkability": 1.28, "strategy": "Standard Metro", "rent": 984}, {"name": "Santa Cruz-Watsonville, CA Metro Area", "short_name": "Santa Cruz, CA", "lat": 36.9741171, "lon": -122.0307963, "pop": 266021, "ratio": 0.579, "fertility": 36.5, "white_density": 3.1, "walkability": 2.4, "strategy": "College Town", "rent": 2172}, {"name": "Utica-Rome, NY Metro Area", "short_name": "Utica, NY", "lat": 43.100903, "lon": -75.232664, "pop": 289577, "ratio": 0.429, "fertility": 57.1, "white_density": 3.1, "walkability": 1.04, "strategy": "College Town", "rent": 896}, {"name": "Fayetteville-Springdale-Rogers, AR Metro Area", "short_name": "Fayetteville, AR", "lat": 36.0625795, "lon": -94.1574263, "pop": 563436, "ratio": 0.471, "fertility": 55.9, "white_density": 3.09, "walkability": 0.44, "strategy": "Standard Metro", "rent": 1094}, {"name": "Worcester, MA Metro Area", "short_name": "Worcester, MA", "lat": 42.262593200000005, "lon": -71.8022934, "pop": 861664, "ratio": 0.461, "fertility": 48.4, "white_density": 3.02, "walkability": 1.96, "strategy": "Standard Metro", "rent": 1347}, {"name": "Scranton--Wilkes-Barre, PA Metro Area", "short_name": "Scranton, PA", "lat": 41.408969, "lon": -75.66241219999999, "pop": 567887, "ratio": 0.455, "fertility": 44.6, "white_density": 3.01, "walkability": 0.98, "strategy": "Standard Metro", "rent": 963}, {"name": "Harrisburg-Carlisle, PA Metro Area", "short_name": "Harrisburg, PA", "lat": 40.273191100000005, "lon": -76.88670079999999, "pop": 597894, "ratio": 0.462, "fertility": 49.4, "white_density": 3.0, "walkability": 1.21, "strategy": "Standard Metro", "rent": 1151}, {"name": "Des Moines-West Des Moines, IA Metro Area", "short_name": "Des Moines, IA", "lat": 41.6005448, "lon": -93.6091064, "pop": 720331, "ratio": 0.407, "fertility": 49.8, "white_density": 2.99, "walkability": 0.71, "strategy": "Standard Metro", "rent": 1113}, {"name": "Boise City, ID Metro Area", "short_name": "Boise City, ID", "lat": 43.6187102, "lon": -116.2146068, "pop": 790640, "ratio": 0.407, "fertility": 45.6, "white_density": 2.96, "walkability": 0.73, "strategy": "Mormon Control", "rent": 1383}, {"name": "Salt Lake City-Murray, UT Metro Area", "short_name": "Salt Lake City, UT", "lat": 40.7607793, "lon": -111.89104740000002, "pop": 1261337, "ratio": 0.394, "fertility": 44.4, "white_density": 2.93, "walkability": 2.54, "strategy": "Mormon Control", "rent": 1486}, {"name": "Peoria, IL Metro Area", "short_name": "Peoria, IL", "lat": 40.6936488, "lon": -89.58898640000001, "pop": 365773, "ratio": 0.434, "fertility": 43.6, "white_density": 2.91, "walkability": 0.84, "strategy": "Standard Metro", "rent": 923}, {"name": "Durham-Chapel Hill, NC Metro Area", "short_name": "Durham, NC", "lat": 35.99403289999999, "lon": -78.898619, "pop": 594291, "ratio": 0.524, "fertility": 34.1, "white_density": 2.9, "walkability": 2.58, "strategy": "Standard Metro", "rent": 1374}, {"name": "Norwich-New London-Willimantic, CT Metro Area", "short_name": "Norwich, CT", "lat": 41.5242649, "lon": -72.07591049999999, "pop": 279025, "ratio": 0.412, "fertility": 43.1, "white_density": 2.88, "walkability": 1.57, "strategy": "College Town", "rent": 1316}, {"name": "Fort Wayne, IN Metro Area", "short_name": "Fort Wayne, IN", "lat": 41.079273, "lon": -85.13935129999999, "pop": 451440, "ratio": 0.422, "fertility": 58.4, "white_density": 2.87, "walkability": 0.89, "strategy": "Standard Metro", "rent": 963}, {"name": "Columbus, OH Metro Area", "short_name": "Columbus, OH", "lat": 39.9611755, "lon": -82.9987942, "pop": 2151847, "ratio": 0.409, "fertility": 52.6, "white_density": 2.87, "walkability": 1.4, "strategy": "Standard Metro", "rent": 1208}, {"name": "Buffalo-Cheektowaga, NY Metro Area", "short_name": "Buffalo, NY", "lat": 42.8864468, "lon": -78.8783689, "pop": 1161385, "ratio": 0.42, "fertility": 45.1, "white_density": 2.86, "walkability": 2.9, "strategy": "Standard Metro", "rent": 1005}, {"name": "Baton Rouge, LA Metro Area", "short_name": "Baton Rouge, LA", "lat": 30.4582829, "lon": -91.1403196, "pop": 871379, "ratio": 0.508, "fertility": 44.2, "white_density": 2.82, "walkability": 0.78, "strategy": "Standard Metro", "rent": 1108}, {"name": "Reading, PA Metro Area", "short_name": "Reading, PA", "lat": 40.3356483, "lon": -75.9268747, "pop": 429989, "ratio": 0.488, "fertility": 49.8, "white_density": 2.82, "walkability": 1.4, "strategy": "Standard Metro", "rent": 1143}, {"name": "Roanoke, VA Metro Area", "short_name": "Roanoke, VA", "lat": 37.2709704, "lon": -79.9414266, "pop": 314661, "ratio": 0.456, "fertility": 47.1, "white_density": 2.8, "walkability": 1.14, "strategy": "Standard Metro", "rent": 986}, {"name": "Youngstown-Warren, OH Metro Area", "short_name": "Youngstown, OH", "lat": 41.0997803, "lon": -80.6495194, "pop": 428430, "ratio": 0.423, "fertility": 48.3, "white_density": 2.8, "walkability": 1.38, "strategy": "Standard Metro", "rent": 779}, {"name": "Nashville-Davidson--Murfreesboro--Franklin, TN Metro Area", "short_name": "Nashville, TN", "lat": 36.1626638, "lon": -86.78160159999999, "pop": 2043713, "ratio": 0.404, "fertility": 52.2, "white_density": 2.79, "walkability": 0.91, "strategy": "Standard Metro", "rent": 1434}, {"name": "Santa Maria-Santa Barbara, CA Metro Area", "short_name": "Santa Maria, CA", "lat": 34.953033700000006, "lon": -120.4357191, "pop": 443975, "ratio": 0.565, "fertility": 34.5, "white_density": 2.77, "walkability": 2.94, "strategy": "Standard Metro", "rent": 2050}, {"name": "Hartford-West Hartford-East Hartford, CT Metro Area", "short_name": "Hartford, CT", "lat": 41.7637111, "lon": -72.6850932, "pop": 1144012, "ratio": 0.476, "fertility": 41.3, "white_density": 2.74, "walkability": 2.71, "strategy": "Standard Metro", "rent": 1357}, {"name": "New Haven, CT Metro Area", "short_name": "New Haven, CT", "lat": 41.308274, "lon": -72.9278835, "pop": 566803, "ratio": 0.505, "fertility": 31.4, "white_density": 2.73, "walkability": 3.41, "strategy": "Standard Metro", "rent": 1463}, {"name": "Oklahoma City, OK Metro Area", "short_name": "Oklahoma City, OK", "lat": 35.4675602, "lon": -97.5164276, "pop": 1445122, "ratio": 0.447, "fertility": 51.2, "white_density": 2.71, "walkability": 0.55, "strategy": "Standard Metro", "rent": 1081}, {"name": "York-Hanover, PA Metro Area", "short_name": "York, PA", "lat": 39.9625984, "lon": -76.727745, "pop": 459312, "ratio": 0.405, "fertility": 53.6, "white_density": 2.69, "walkability": 0.98, "strategy": "Standard Metro", "rent": 1150}, {"name": "Asheville, NC Metro Area", "short_name": "Asheville, NC", "lat": 35.5950581, "lon": -82.5514869, "pop": 410817, "ratio": 0.413, "fertility": 43.1, "white_density": 2.68, "walkability": 0.91, "strategy": "Standard Metro", "rent": 1223}, {"name": "Little Rock-North Little Rock-Conway, AR Metro Area", "short_name": "Little Rock, AR", "lat": 34.7464809, "lon": -92.2895948, "pop": 753605, "ratio": 0.451, "fertility": 52.6, "white_density": 2.67, "walkability": 0.65, "strategy": "Standard Metro", "rent": 1007}, {"name": "Pensacola-Ferry Pass-Brent, FL Metro Area", "short_name": "Pensacola, FL", "lat": 30.421309, "lon": -87.2169149, "pop": 516994, "ratio": 0.374, "fertility": 57.1, "white_density": 2.66, "walkability": 0.99, "strategy": "Standard Metro", "rent": 1267}, {"name": "Hickory-Lenoir-Morganton, NC Metro Area", "short_name": "Hickory, NC", "lat": 35.7344538, "lon": -81.3444573, "pop": 366972, "ratio": 0.408, "fertility": 46.6, "white_density": 2.65, "walkability": 0.23, "strategy": "Standard Metro", "rent": 823}, {"name": "Indianapolis-Carmel-Greenwood, IN Metro Area", "short_name": "Indianapolis, IN", "lat": 39.768403, "lon": -86.158068, "pop": 2106327, "ratio": 0.414, "fertility": 51.2, "white_density": 2.64, "walkability": 0.8, "strategy": "Standard Metro", "rent": 1142}, {"name": "Columbia, SC Metro Area", "short_name": "Columbia, SC", "lat": 34.0007104, "lon": -81.0348144, "pop": 839868, "ratio": 0.477, "fertility": 47.3, "white_density": 2.64, "walkability": 0.86, "strategy": "Standard Metro", "rent": 1145}, {"name": "Spartanburg, SC Metro Area", "short_name": "Spartanburg, SC", "lat": 34.949567200000004, "lon": -81.93204820000001, "pop": 365086, "ratio": 0.442, "fertility": 51.8, "white_density": 2.63, "walkability": 0.32, "strategy": "Standard Metro", "rent": 991}, {"name": "Colorado Springs, CO Metro Area", "short_name": "Colorado Springs, CO", "lat": 38.8338816, "lon": -104.8213634, "pop": 760782, "ratio": 0.332, "fertility": 51.8, "white_density": 2.63, "walkability": 0.6, "strategy": "Standard Metro", "rent": 1611}, {"name": "Wichita, KS Metro Area", "short_name": "Wichita, KS", "lat": 37.688889, "lon": -97.336111, "pop": 648935, "ratio": 0.407, "fertility": 50.0, "white_density": 2.62, "walkability": 0.78, "strategy": "Standard Metro", "rent": 969}, {"name": "Salem, OR Metro Area", "short_name": "Salem, OR", "lat": 44.9428975, "lon": -123.0350963, "pop": 435085, "ratio": 0.443, "fertility": 54.1, "white_density": 2.62, "walkability": 1.51, "strategy": "Standard Metro", "rent": 1324}, {"name": "Springfield, MA Metro Area", "short_name": "Springfield, MA", "lat": 42.1014831, "lon": -72.589811, "pop": 462853, "ratio": 0.475, "fertility": 45.0, "white_density": 2.54, "walkability": 1.99, "strategy": "Standard Metro", "rent": 1105}, {"name": "Flint, MI Metro Area", "short_name": "Flint, MI", "lat": 43.0125274, "lon": -83.6874562, "pop": 404087, "ratio": 0.413, "fertility": 47.1, "white_density": 2.53, "walkability": 1.29, "strategy": "Standard Metro", "rent": 936}, {"name": "Greensboro-High Point, NC Metro Area", "short_name": "Greensboro, NC", "lat": 36.0726354, "lon": -79.79197540000001, "pop": 779894, "ratio": 0.518, "fertility": 48.2, "white_density": 2.48, "walkability": 1.31, "strategy": "Standard Metro", "rent": 1045}, {"name": "Birmingham, AL Metro Area", "short_name": "Birmingham, AL", "lat": 33.5206608, "lon": -86.80249, "pop": 1181432, "ratio": 0.448, "fertility": 46.4, "white_density": 2.44, "walkability": 0.46, "strategy": "Standard Metro", "rent": 1114}, {"name": "Cleveland, OH Metro Area", "short_name": "Cleveland, OH", "lat": 41.49932, "lon": -81.6943605, "pop": 2171978, "ratio": 0.412, "fertility": 51.3, "white_density": 2.43, "walkability": 2.35, "strategy": "Standard Metro", "rent": 996}, {"name": "Lafayette, LA Metro Area", "short_name": "Lafayette, LA", "lat": 30.2240897, "lon": -92.0198427, "pop": 410883, "ratio": 0.405, "fertility": 64.6, "white_density": 2.39, "walkability": 0.68, "strategy": "Standard Metro", "rent": 954}, {"name": "Milwaukee-Waukesha, WI Metro Area", "short_name": "Milwaukee, WI", "lat": 43.0389025, "lon": -87.9064736, "pop": 1566361, "ratio": 0.416, "fertility": 46.7, "white_density": 2.38, "walkability": 2.46, "strategy": "Standard Metro", "rent": 1105}, {"name": "Gulfport-Biloxi, MS Metro Area", "short_name": "Gulfport, MS", "lat": 30.367419800000004, "lon": -89.0928155, "pop": 418452, "ratio": 0.403, "fertility": 56.8, "white_density": 2.36, "walkability": 0.38, "strategy": "Standard Metro", "rent": 1067}, {"name": "Greeley, CO Metro Area", "short_name": "Greeley, CO", "lat": 40.42331420000001, "lon": -104.7091322, "pop": 340711, "ratio": 0.398, "fertility": 54.7, "white_density": 2.34, "walkability": 0.62, "strategy": "Standard Metro", "rent": 1469}, {"name": "Bridgeport-Stamford-Danbury, CT Metro Area", "short_name": "Bridgeport, CT", "lat": 41.18654779999999, "lon": -73.1951767, "pop": 947528, "ratio": 0.501, "fertility": 48.1, "white_density": 2.33, "walkability": 7.36, "strategy": "Walkable City", "rent": 1827}, {"name": "Tucson, AZ Metro Area", "short_name": "Tucson, AZ", "lat": 32.2217429, "lon": -110.926479, "pop": 1049947, "ratio": 0.495, "fertility": 42.5, "white_density": 2.32, "walkability": 2.07, "strategy": "Standard Metro", "rent": 1154}, {"name": "Trenton-Princeton, NJ Metro Area", "short_name": "Trenton, NJ", "lat": 40.2170534, "lon": -74.74293840000001, "pop": 383286, "ratio": 0.544, "fertility": 31.8, "white_density": 2.3, "walkability": 5.95, "strategy": "Walkable City", "rent": 1515}, {"name": "Huntsville, AL Metro Area", "short_name": "Huntsville, AL", "lat": 34.730368799999994, "lon": -86.5861037, "pop": 504712, "ratio": 0.374, "fertility": 48.5, "white_density": 2.29, "walkability": 0.4, "strategy": "Standard Metro", "rent": 1091}, {"name": "Amarillo, TX Metro Area", "short_name": "Amarillo, TX", "lat": 35.2219971, "lon": -101.8312969, "pop": 270207, "ratio": 0.457, "fertility": 40.9, "white_density": 2.28, "walkability": 0.55, "strategy": "College Town", "rent": 1044}, {"name": "Bend, OR Metro Area", "short_name": "Bend, OR", "lat": 44.0581728, "lon": -121.3153096, "pop": 253650, "ratio": 0.35, "fertility": 63.9, "white_density": 2.28, "walkability": 0.52, "strategy": "College Town", "rent": 1583}, {"name": "Detroit-Warren-Dearborn, MI Metro Area", "short_name": "Detroit, MI", "lat": 42.331427000000005, "lon": -83.0457538, "pop": 4367620, "ratio": 0.395, "fertility": 50.9, "white_density": 2.27, "walkability": 1.3, "strategy": "Standard Metro", "rent": 1162}, {"name": "Bremerton-Silverdale-Port Orchard, WA Metro Area", "short_name": "Bremerton, WA", "lat": 47.567320200000005, "lon": -122.6329356, "pop": 276581, "ratio": 0.288, "fertility": 48.9, "white_density": 2.27, "walkability": 6.98, "strategy": "Walkable City", "rent": 1741}, {"name": "Charleston-North Charleston, SC Metro Area", "short_name": "Charleston, SC", "lat": 32.776474900000004, "lon": -79.9310512, "pop": 817756, "ratio": 0.362, "fertility": 50.8, "white_density": 2.25, "walkability": 0.83, "strategy": "Standard Metro", "rent": 1488}, {"name": "Olympia-Lacey-Tumwater, WA Metro Area", "short_name": "Olympia, WA", "lat": 47.0378741, "lon": -122.9006951, "pop": 296640, "ratio": 0.361, "fertility": 40.0, "white_density": 2.24, "walkability": 1.62, "strategy": "College Town", "rent": 1634}, {"name": "Mobile, AL Metro Area", "short_name": "Mobile, AL", "lat": 30.6953657, "lon": -88.0398912, "pop": 413162, "ratio": 0.437, "fertility": 47.4, "white_density": 2.21, "walkability": 0.53, "strategy": "Standard Metro", "rent": 1021}, {"name": "Tulsa, OK Metro Area", "short_name": "Tulsa, OK", "lat": 36.1539816, "lon": -95.992775, "pop": 1026209, "ratio": 0.409, "fertility": 57.4, "white_density": 2.19, "walkability": 0.5, "strategy": "Standard Metro", "rent": 1034}, {"name": "Savannah, GA Metro Area", "short_name": "Savannah, GA", "lat": 32.0835407, "lon": -81.0998342, "pop": 412089, "ratio": 0.421, "fertility": 53.6, "white_density": 2.19, "walkability": 1.46, "strategy": "Standard Metro", "rent": 1370}, {"name": "Atlantic City-Hammonton, NJ Metro Area", "short_name": "Atlantic City, NJ", "lat": 39.3642834, "lon": -74.4229266, "pop": 369940, "ratio": 0.448, "fertility": 60.9, "white_density": 2.19, "walkability": 3.53, "strategy": "Standard Metro", "rent": 1328}, {"name": "Raleigh-Cary, NC Metro Area", "short_name": "Raleigh, NC", "lat": 35.7795897, "lon": -78.6381787, "pop": 1449594, "ratio": 0.398, "fertility": 46.8, "white_density": 2.18, "walkability": 0.83, "strategy": "Standard Metro", "rent": 1459}, {"name": "Longview, TX Metro Area", "short_name": "Longview, TX", "lat": 32.5007037, "lon": -94.7404891, "pop": 288921, "ratio": 0.402, "fertility": 44.9, "white_density": 2.17, "walkability": 0.21, "strategy": "College Town", "rent": 1039}, {"name": "Rockford, IL Metro Area", "short_name": "Rockford, IL", "lat": 42.2711311, "lon": -89.09399520000001, "pop": 336605, "ratio": 0.414, "fertility": 52.5, "white_density": 2.15, "walkability": 1.01, "strategy": "Standard Metro", "rent": 988}, {"name": "Jacksonville, FL Metro Area", "short_name": "Jacksonville, FL", "lat": 30.3321838, "lon": -81.655651, "pop": 1645707, "ratio": 0.395, "fertility": 59.2, "white_density": 2.09, "walkability": 1.2, "strategy": "Standard Metro", "rent": 1416}, {"name": "Reno, NV Metro Area", "short_name": "Reno, NV", "lat": 39.5296329, "lon": -119.8138027, "pop": 556539, "ratio": 0.364, "fertility": 45.6, "white_density": 2.06, "walkability": 2.14, "strategy": "Standard Metro", "rent": 1491}, {"name": "Richmond, VA Metro Area", "short_name": "Richmond, VA", "lat": 37.5407246, "lon": -77.4360481, "pop": 1327321, "ratio": 0.4, "fertility": 47.1, "white_density": 2.02, "walkability": 1.43, "strategy": "Standard Metro", "rent": 1388}, {"name": "Palm Bay-Melbourne-Titusville, FL Metro Area", "short_name": "Palm Bay, FL", "lat": 28.03446210000001, "lon": -80.5886646, "pop": 620533, "ratio": 0.372, "fertility": 48.4, "white_density": 2.01, "walkability": 1.12, "strategy": "Standard Metro", "rent": 1456}, {"name": "Anchorage, AK Metro Area", "short_name": "Anchorage, AK", "lat": 61.2180556, "lon": -149.90027780000003, "pop": 399746, "ratio": 0.303, "fertility": 59.8, "white_density": 2.01, "walkability": 1.63, "strategy": "Standard Metro", "rent": 1422}, {"name": "Waterbury-Shelton, CT Metro Area", "short_name": "Waterbury, CT", "lat": 41.558152500000006, "lon": -73.0514965, "pop": 452303, "ratio": 0.402, "fertility": 46.3, "white_density": 1.97, "walkability": 1.71, "strategy": "Standard Metro", "rent": 1288}, {"name": "Austin-Round Rock-San Marcos, TX Metro Area", "short_name": "Austin, TX", "lat": 30.267153000000004, "lon": -97.7430608, "pop": 2357497, "ratio": 0.382, "fertility": 43.9, "white_density": 1.97, "walkability": 1.43, "strategy": "Standard Metro", "rent": 1646}, {"name": "Deltona-Daytona Beach-Ormond Beach, FL Metro Area", "short_name": "Deltona, FL", "lat": 28.9005446, "lon": -81.2636738, "pop": 689939, "ratio": 0.391, "fertility": 40.3, "white_density": 1.96, "walkability": 0.9, "strategy": "Standard Metro", "rent": 1407}, {"name": "Baltimore-Columbia-Towson, MD Metro Area", "short_name": "Baltimore, MD", "lat": 39.2903848, "lon": -76.6121893, "pop": 2839409, "ratio": 0.408, "fertility": 50.1, "white_density": 1.96, "walkability": 4.28, "strategy": "Standard Metro", "rent": 1562}, {"name": "Killeen-Temple, TX Metro Area", "short_name": "Killeen, TX", "lat": 31.1171194, "lon": -97.7277959, "pop": 485850, "ratio": 0.349, "fertility": 65.0, "white_density": 1.96, "walkability": 0.69, "strategy": "Standard Metro", "rent": 1160}, {"name": "Denver-Aurora-Centennial, CO Metro Area", "short_name": "Denver, CO", "lat": 39.7392358, "lon": -104.990251, "pop": 2977085, "ratio": 0.31, "fertility": 43.7, "white_density": 1.95, "walkability": 2.89, "strategy": "Standard Metro", "rent": 1805}, {"name": "Tampa-St. Petersburg-Clearwater, FL Metro Area", "short_name": "Tampa, FL", "lat": 27.950575, "lon": -82.4571776, "pop": 3240469, "ratio": 0.412, "fertility": 45.1, "white_density": 1.93, "walkability": 1.21, "strategy": "Standard Metro", "rent": 1497}, {"name": "Seattle-Tacoma-Bellevue, WA Metro Area", "short_name": "Seattle, WA", "lat": 47.6062095, "lon": -122.33207079999998, "pop": 4021467, "ratio": 0.332, "fertility": 46.9, "white_density": 1.9, "walkability": 6.1, "strategy": "Walkable City", "rent": 1932}, {"name": "Lakeland-Winter Haven, FL Metro Area", "short_name": "Lakeland, FL", "lat": 28.0394654, "lon": -81.9498042, "pop": 760961, "ratio": 0.438, "fertility": 49.0, "white_density": 1.87, "walkability": 0.73, "strategy": "Standard Metro", "rent": 1272}, {"name": "Kennewick-Richland, WA Metro Area", "short_name": "Kennewick, WA", "lat": 46.2112458, "lon": -119.1372338, "pop": 307900, "ratio": 0.359, "fertility": 50.9, "white_density": 1.79, "walkability": 0.98, "strategy": "Standard Metro", "rent": 1238}, {"name": "Phoenix-Mesa-Chandler, AZ Metro Area", "short_name": "Phoenix, AZ", "lat": 33.4483771, "lon": -112.0740373, "pop": 4941206, "ratio": 0.385, "fertility": 46.6, "white_density": 1.79, "walkability": 1.63, "strategy": "Standard Metro", "rent": 1581}, {"name": "Orlando-Kissimmee-Sanford, FL Metro Area", "short_name": "Orlando, FL", "lat": 28.5383355, "lon": -81.3792365, "pop": 2721022, "ratio": 0.44, "fertility": 36.7, "white_density": 1.77, "walkability": 1.55, "strategy": "Standard Metro", "rent": 1659}, {"name": "Beaumont-Port Arthur, TX Metro Area", "short_name": "Beaumont, TX", "lat": 30.080174, "lon": -94.1265562, "pop": 396058, "ratio": 0.38, "fertility": 54.4, "white_density": 1.76, "walkability": 0.43, "strategy": "Standard Metro", "rent": 1063}, {"name": "Fayetteville, NC Metro Area", "short_name": "Fayetteville, NC", "lat": 35.0526641, "lon": -78.87835849999999, "pop": 389851, "ratio": 0.278, "fertility": 58.6, "white_density": 1.75, "walkability": 0.9, "strategy": "Standard Metro", "rent": 1150}, {"name": "Cape Coral-Fort Myers, FL Metro Area", "short_name": "Cape Coral, FL", "lat": 26.5628537, "lon": -81.94953309999998, "pop": 792692, "ratio": 0.443, "fertility": 43.0, "white_density": 1.74, "walkability": 0.95, "strategy": "Standard Metro", "rent": 1597}, {"name": "North Port-Bradenton-Sarasota, FL Metro Area", "short_name": "North Port, FL", "lat": 27.044224, "lon": -82.23592540000001, "pop": 865031, "ratio": 0.414, "fertility": 38.8, "white_density": 1.73, "walkability": 0.81, "strategy": "Standard Metro", "rent": 1637}, {"name": "Jackson, MS Metro Area", "short_name": "Jackson, MS", "lat": 32.298757300000005, "lon": -90.1848103, "pop": 615908, "ratio": 0.453, "fertility": 48.4, "white_density": 1.71, "walkability": 0.43, "strategy": "Standard Metro", "rent": 1034}, {"name": "Santa Rosa-Petaluma, CA Metro Area", "short_name": "Santa Rosa, CA", "lat": 38.440429, "lon": -122.7140548, "pop": 485642, "ratio": 0.402, "fertility": 45.6, "white_density": 1.71, "walkability": 1.28, "strategy": "Standard Metro", "rent": 2093}, {"name": "Sacramento-Roseville-Folsom, CA Metro Area", "short_name": "Sacramento, CA", "lat": 38.5815719, "lon": -121.4943996, "pop": 2406563, "ratio": 0.413, "fertility": 47.8, "white_density": 1.69, "walkability": 1.73, "strategy": "Standard Metro", "rent": 1729}, {"name": "Atlanta-Sandy Springs-Roswell, GA Metro Area", "short_name": "Atlanta, GA", "lat": 33.7489954, "lon": -84.3879824, "pop": 6176937, "ratio": 0.417, "fertility": 49.1, "white_density": 1.68, "walkability": 2.34, "strategy": "Standard Metro", "rent": 1563}, {"name": "Shreveport-Bossier City, LA Metro Area", "short_name": "Shreveport, LA", "lat": 32.5251516, "lon": -93.7501789, "pop": 389004, "ratio": 0.387, "fertility": 42.5, "white_density": 1.67, "walkability": 1.12, "strategy": "Standard Metro", "rent": 1003}, {"name": "Ocala, FL Metro Area", "short_name": "Ocala, FL", "lat": 29.1871986, "lon": -82.14009229999999, "pop": 387697, "ratio": 0.392, "fertility": 57.0, "white_density": 1.66, "walkability": 0.41, "strategy": "Standard Metro", "rent": 1174}, {"name": "Montgomery, AL Metro Area", "short_name": "Montgomery, AL", "lat": 32.366805199999995, "lon": -86.2999689, "pop": 385159, "ratio": 0.416, "fertility": 41.7, "white_density": 1.65, "walkability": 0.4, "strategy": "Standard Metro", "rent": 1063}, {"name": "Dallas-Fort Worth-Arlington, TX Metro Area", "short_name": "Dallas, TX", "lat": 32.7766642, "lon": -96.7969879, "pop": 7807555, "ratio": 0.399, "fertility": 48.2, "white_density": 1.56, "walkability": 1.02, "strategy": "Standard Metro", "rent": 1509}, {"name": "San Diego-Chula Vista-Carlsbad, CA Metro Area", "short_name": "San Diego, CA", "lat": 32.715738, "lon": -117.1610838, "pop": 3282782, "ratio": 0.321, "fertility": 50.9, "white_density": 1.5, "walkability": 2.72, "strategy": "Standard Metro", "rent": 2154}, {"name": "New Orleans-Metairie, LA Metro Area", "short_name": "New Orleans, LA", "lat": 29.9510658, "lon": -90.0715323, "pop": 988763, "ratio": 0.41, "fertility": 46.3, "white_density": 1.49, "walkability": 2.68, "strategy": "Standard Metro", "rent": 1182}, {"name": "Port St. Lucie, FL Metro Area", "short_name": "Port St. Lucie, FL", "lat": 27.2730492, "lon": -80.3582261, "pop": 506701, "ratio": 0.381, "fertility": 37.5, "white_density": 1.42, "walkability": 0.4, "strategy": "Standard Metro", "rent": 1491}, {"name": "Oxnard-Thousand Oaks-Ventura, CA Metro Area", "short_name": "Oxnard, CA", "lat": 34.1975048, "lon": -119.17705159999998, "pop": 838259, "ratio": 0.412, "fertility": 53.4, "white_density": 1.42, "walkability": 1.02, "strategy": "Standard Metro", "rent": 2248}, {"name": "Modesto, CA Metro Area", "short_name": "Modesto, CA", "lat": 37.6390972, "lon": -120.9968782, "pop": 552250, "ratio": 0.381, "fertility": 46.6, "white_density": 1.2, "walkability": 0.91, "strategy": "Standard Metro", "rent": 1528}, {"name": "Yakima, WA Metro Area", "short_name": "Yakima, WA", "lat": 46.6020711, "lon": -120.5058987, "pop": 256605, "ratio": 0.374, "fertility": 63.7, "white_density": 1.19, "walkability": 0.49, "strategy": "College Town", "rent": 1068}, {"name": "San Antonio-New Braunfels, TX Metro Area", "short_name": "San Antonio, TX", "lat": 29.4241219, "lon": -98.4936282, "pop": 2612802, "ratio": 0.372, "fertility": 57.9, "white_density": 1.16, "walkability": 1.6, "strategy": "Standard Metro", "rent": 1299}, {"name": "Corpus Christi, TX Metro Area", "short_name": "Corpus Christi, TX", "lat": 27.8005828, "lon": -97.396381, "pop": 446797, "ratio": 0.394, "fertility": 43.8, "white_density": 1.11, "walkability": 1.36, "strategy": "Standard Metro", "rent": 1224}, {"name": "Houston-Pasadena-The Woodlands, TX Metro Area", "short_name": "Houston, TX", "lat": 29.7604267, "lon": -95.3698028, "pop": 7274714, "ratio": 0.383, "fertility": 51.2, "white_density": 1.11, "walkability": 1.85, "strategy": "Standard Metro", "rent": 1378}, {"name": "Albuquerque, NM Metro Area", "short_name": "Albuquerque, NM", "lat": 35.0853336, "lon": -106.6055534, "pop": 918567, "ratio": 0.359, "fertility": 55.9, "white_density": 1.06, "walkability": 1.22, "strategy": "Standard Metro", "rent": 1102}, {"name": "San Francisco-Oakland-Fremont, CA Metro Area", "short_name": "San Francisco, CA", "lat": 37.7749295, "lon": -122.4194155, "pop": 4653593, "ratio": 0.334, "fertility": 44.3, "white_density": 1.03, "walkability": 11.0, "strategy": "Walkable City", "rent": 2426}, {"name": "Las Vegas-Henderson-North Las Vegas, NV Metro Area", "short_name": "Las Vegas, NV", "lat": 36.1699412, "lon": -115.13982959999998, "pop": 2293764, "ratio": 0.33, "fertility": 42.7, "white_density": 1.03, "walkability": 2.87, "strategy": "Standard Metro", "rent": 1518}, {"name": "San Jose-Sunnyvale-Santa Clara, CA Metro Area", "short_name": "San Jose, CA", "lat": 37.3382082, "lon": -121.88632859999998, "pop": 1969353, "ratio": 0.372, "fertility": 41.1, "white_density": 1.0, "walkability": 3.03, "strategy": "Standard Metro", "rent": 2794}, {"name": "Salinas, CA Metro Area", "short_name": "Salinas, CA", "lat": 36.6777372, "lon": -121.6555013, "pop": 435834, "ratio": 0.386, "fertility": 44.5, "white_density": 0.94, "walkability": 1.55, "strategy": "Standard Metro", "rent": 1995}, {"name": "Vallejo, CA Metro Area", "short_name": "Vallejo, CA", "lat": 38.1040864, "lon": -122.25663670000002, "pop": 450824, "ratio": 0.319, "fertility": 56.0, "white_density": 0.94, "walkability": 2.16, "strategy": "Standard Metro", "rent": 2088}, {"name": "Los Angeles-Long Beach-Anaheim, CA Metro Area", "short_name": "Los Angeles, CA", "lat": 34.0522342, "lon": -118.24368490000002, "pop": 13012469, "ratio": 0.362, "fertility": 41.6, "white_density": 0.93, "walkability": 3.95, "strategy": "Standard Metro", "rent": 1987}, {"name": "Bakersfield-Delano, CA Metro Area", "short_name": "Bakersfield, CA", "lat": 35.3732921, "lon": -119.0187125, "pop": 910433, "ratio": 0.328, "fertility": 55.3, "white_density": 0.88, "walkability": 0.64, "strategy": "Standard Metro", "rent": 1220}, {"name": "Fresno, CA Metro Area", "short_name": "Fresno, CA", "lat": 36.7468422, "lon": -119.7725868, "pop": 1170942, "ratio": 0.397, "fertility": 57.0, "white_density": 0.87, "walkability": 1.03, "strategy": "Standard Metro", "rent": 1301}, {"name": "Miami-Fort Lauderdale-West Palm Beach, FL Metro Area", "short_name": "Miami, FL", "lat": 25.7616798, "lon": -80.1917902, "pop": 6138876, "ratio": 0.402, "fertility": 42.5, "white_density": 0.85, "walkability": 3.08, "strategy": "Standard Metro", "rent": 1770}, {"name": "Stockton-Lodi, CA Metro Area", "short_name": "Stockton, CA", "lat": 37.9577016, "lon": -121.29077959999998, "pop": 787416, "ratio": 0.376, "fertility": 46.7, "white_density": 0.85, "walkability": 1.39, "strategy": "Standard Metro", "rent": 1633}, {"name": "Riverside-San Bernardino-Ontario, CA Metro Area", "short_name": "Riverside, CA", "lat": 33.9533487, "lon": -117.3961564, "pop": 4637725, "ratio": 0.35, "fertility": 50.6, "white_density": 0.84, "walkability": 1.09, "strategy": "Standard Metro", "rent": 1756}, {"name": "Merced, CA Metro Area", "short_name": "Merced, CA", "lat": 37.3021632, "lon": -120.48296770000002, "pop": 285597, "ratio": 0.396, "fertility": 48.2, "white_density": 0.83, "walkability": 0.53, "strategy": "College Town", "rent": 1284}, {"name": "Visalia, CA Metro Area", "short_name": "Visalia, CA", "lat": 36.3302284, "lon": -119.2920585, "pop": 475774, "ratio": 0.382, "fertility": 46.7, "white_density": 0.8, "walkability": 0.44, "strategy": "Standard Metro", "rent": 1206}, {"name": "El Paso, TX Metro Area", "short_name": "El Paso, TX", "lat": 31.7775757, "lon": -106.4424559, "pop": 869606, "ratio": 0.26, "fertility": 80.3, "white_density": 0.42, "walkability": 1.1, "strategy": "Standard Metro", "rent": 1045}];

    // Map Init
    const map = L.map('map').setView([39.82, -98.58], 4);
    L.tileLayer('https://{s}.basemaps.cartocdn.com/light_all/{z}/{x}/{y}{r}.png', {
        attribution: 'Map data &copy; OpenStreetMap contributors, CARTO',
        subdomains: 'abcd',
        maxZoom: 20
    }).addTo(map);

    let markers = [];

    function getColor(cat) {
        if (cat === 'Mormon Control') return '#ff3333';
        if (cat === 'Snow White (Secular)') return '#3388ff';
        if (cat === 'Walkable City') return '#33ff33';
        if (cat === 'College Town') return '#ffaa00';
        return '#777777';
    }

    function updateMap() {
        //Clear existing
        markers.forEach(m => map.removeLayer(m));
        markers = [];

        const catFilter = document.getElementById('catFilter').value;
        const popMin = parseInt(document.getElementById('popSlider').value);
        const whiteMin = parseFloat(document.getElementById('whiteSlider').value);

        // Update labels
        document.getElementById('popVal').innerText = popMin.toLocaleString();
        document.getElementById('whiteVal').innerText = whiteMin + '%';

        cityData.forEach(city => {
            // Apply Filters
            if (catFilter !== 'All' && city.strategy !== catFilter) return;
            if (city.pop < popMin) return;
            if (city.white_density < whiteMin) return;

            // Create Marker
            const circle = L.circleMarker([city.lat, city.lon], {
                color: getColor(city.strategy),
                fillColor: getColor(city.strategy),
                fillOpacity: 0.7,
                radius: Math.max(5, city.pop / 50000) // Size by pop
            }).addTo(map);

            const popupContent = `
                <b>${city.short_name}</b><br>
                <i>${city.strategy}</i><hr>
                <b>Ratio:</b> ${city.ratio}<br>
                <b>White Density:</b> ${city.white_density}%<br>
                <b>Fertility:</b> ${city.fertility}<br>
                <b>Walkability:</b> ${city.walkability}%<br>
                <b>Pop:</b> ${city.pop.toLocaleString()}<br>
                <b>Rent:</b> $${city.rent}
            `;

            circle.bindPopup(popupContent);
            markers.push(circle);
        });
    }

    // Initial Load
    updateMap();

</script>

</body>
</html>
